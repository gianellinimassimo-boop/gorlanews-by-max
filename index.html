const express = require('express');
const app = express();
const PORT = 3001;

// Serve i file statici (index.html, ecc.) dalla cartella corrente
app.use(express.static('.'));

// API finta con 4 news di prova
app.get('/api/news', (req, res) => {
  res.json([
    {
      titolo: 'Avviso alla cittadinanza',
      descrizione: 'Chiusura uffici comunali per manutenzione straordinaria.',
      url: 'https://www.gorlaminore.it/'
    },
    {
      titolo: 'Nuovo calendario raccolta rifiuti',
      descrizione: 'Disponibile il calendario aggiornato per la raccolta porta a porta.',
      url: 'https://www.gorlaminore.it/'
    },
    {
      titolo: 'Lavori in corso in via Roma',
      descrizione: 'Interventi di rifacimento della carreggiata dal 1 al 5 marzo.',
      url: 'https://www.gorlaminore.it/'
    },
    {
      titolo: 'Incontri pubblici sul bilancio',
      descrizione: 'Tre incontri con la cittadinanza sul bilancio comunale.',
      url: 'https://www.gorlaminore.it/'
    }
  ]);
});

app.listen(PORT, () => {
  console.log(`Server su http://localhost:${PORT}`);
});

